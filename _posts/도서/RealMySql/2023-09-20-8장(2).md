---
title: RealMySql 8.0 - 인덱스란 무엇인가?
date: 2023-09-20
categories: [도서, RealMySql]
tags: [mysql, RealMySql, 인덱스]
math: true
mermaid: true
---

인덱스는 Key-Value 값을 가지며 Key는 데이터를 말하고 Value는 해당 레코드의 주소라고 생각하면 된다.
이를 이용해서 빠른 조회를 위해 미리 정렬을 해서 저장한다. 

인덱스는 SortedList 자료구조를 사용해서 Insert, Update, Delete시 자동으로 정렬이 되도록 한다.
따라서 Select시 빠른 조회가 가능하다. 

또 다른 자료구조로 ArrayList를 사용하는데 ArrayList는 특성상 데이터를 추가한 순서대로 저장된다. 따라서 데이터 파일을 저장할때 사용한다.


- 프라이머리 키
  -  Null값을 허용하지 않는다.
  -  중복을 허용하지 않는다.

- 세컨더리 인덱스
  - 세컨더리 인덱스 중 유니크 인덱스는 프라이머리 키를 대체할 수 있다고 해서 대체 키라도고 불린다.

데이터 저장방식(알고리즘)별로 많은 분류를 할 수 있으며 대표적으로 B-tree 인덱스, Hash인덱스로 구분할 수 있다. (최근에는 Fractal-tree인덱스나 로그 기반의 Merge-tree인덱스를 사용하는 DBMS도 개발되고 있다고 한다.)

B-tree인덱스
- 칼럼의 값을 변형하지 않고 원본 그대로 사용하여 인덱싱한다.
- Mysql서버에서는 위치 기반 검색을 지원하기 위한 R-tree인덱스 알고리즘도 있지만 결국 R-tree인덱스는 B-tree 응용 알고리즘으로 볼 수 있다.

Hash인덱스
- 원본 값을 해시값으로 변형해서 매우 빠른 검색을 지원한다.
- 해시값으로 변형해서 사용하기 때문에 Prefix를 사용한 검색에서는 사용할 수 없다.
- 메모리 기반의 DB에서 주로 사용한다.

데이터 중복의 문제로 보면 유니크 인덱스와 Non 유니크 인덱스로 나뉘어 볼 수 있다. 
유니크 인덱스의 여부는 이를 옵티마이저에게는 중요한 정보이다. 동등조건으로 검색을 할 경우 1건만 찾으면 더이상 수행을 하지 않아도 되기 때문이기도 하다. 또한 내부적으로 처리 방식의 변화나 차이점들이 있는데 차근차근 알아보자.
