---
title: 오브젝트 - 4장 설계 품질과 트레이드오프
date: 2023-06-01
categories: [도서, 오브젝트]
tags: [OOP, 오브젝트]
math: true
mermaid: true
---


# 4장 주요 포인트

- 객체지향 설계의 핵심은 역할, 책임, 협력
- 데이터 중심 설계 vs 책임 중심 설계

<br>

## 객체지향 설계 핵심

- **역할** :  대체 가능한 책임의 집합
- **책임** : 객체가 다른 객체와 협력하기 위해 수행하는 행동
- **협력** : 메시지를 주고받는 상호작용

<br>

## 데이터 중심 설계 vs 책임 중심 설계

### 데이터 중심 설계 특징

> **데이터 중심 설계** : 책임을 고려하지 않고 객체가 포함해야 하는 데이터 관점으로 접근하는 방식 <br>

책임 중심 설계 특징인 캡슐화, 결합도, 응집도를 가지고 데이터 중심설계와 비교해보자.

1. 캡슐화를 지키기 어렵다.
   - Getter, Setter같은 메서드들을 사용하기 최적화 되어있음. 
   - 데이터를 외부에서 접근하고 조회하여 변경하기 때문에 코드 중복이 발생할 수 있음.
   - 이로인해 변경에 취약할 수 있음.
2. 응집도 **낮고**, 결합도 **높음**.
   - 데이터 관점으로 생각하면 모듈 내 요소들이 서로 다른 목적을 추구할 수 있음.
   - Getter, Setter를 사용함으로서 객체간의 의존성이 높아짐

![스크린샷 2023-06-01 오후 9 04 11](https://github.com/qzqz08266/test/assets/101544194/5f6c8724-cad2-4b52-a5d2-ad3112edccbc)

응집도가 높으면 하나의 모듈만 수정하면 되지만, 응집도가 낮으면 여러 모듈을 수정해야 한다.

![스크린샷 2023-06-01 오후 9 07 45](https://github.com/qzqz08266/test/assets/101544194/faded69b-1004-47a4-8970-795698e7eacd)

반대로 결합도가 낮으면 하나의 모듈만 수정, 높은 결합도는 여러 모듈을 수정해야 한다.

<br>

### 책임 중심 설계 특징

> **책임 중심 설계** : 객체가 수행해야 하는 책임을 고려하여 협력 관계를 설계하는 방식

책임 중심 설계를 통해 개발을 하다보면 앞서 데이터 중심 설계에서 부족했던 객체지향의 특징들을 잘 적용할 수 있다.


따라서 public 인터페이스에 의존해서 개발하면 낮은 결합도를 얻을 수 있다.
또한 캡슐화를 지키게 되면 자연적으로 응집도, 결합도에 영향을 주기 때문에 캡슐화를 향상시켜야 한다.

<br>

### 주의사항

1. Getter, Setter를 사용하지 않았다고 캡슐화를 지키지 않은 것이 아니다.
    - calcualteAmountDiscountedFee, calculateRateDiscountedFee, calculateNoneDiscountedFee 처럼 내부 구현을 public 메서드로 노출시키는 것 또한 반쪽짜리 캡슐화한 것임.
    - 따라서 진정한 캡슐화를 하기 위해서는 이를 추상적인 개념으로 할인정책 인터페이스로 추상화해야 한다.
    > 내부 구현의 변경으로 인해 외부의 객체가 영향을 받지 않게 하기위해 캡슐화를 사용해서 외부에 노출시키지 않아야 한다.    

2. 결합도가 높고, 응집도가 낮은 이유는 캡슐화를 지키지 않았기 때문일 가능성이 크다.
   - 내부 구현을 캡슐화를 잘 하였다면 결합도가 높을 수 없음.
