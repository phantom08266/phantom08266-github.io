---
title: 오브젝트 - 7장 객체 분해
date: 2023-06-11
categories: [도서, 오브젝트]
tags: [OOP, 오브젝트]
math: true
mermaid: true
---

## 7장 핵심 포인트
다양하고 복잡한 문제를 해결하기 위해서 추상화 개념을 이용해야만 했고, 이를 통해 프로그래밍 언어는 발전을 해왔다. <br>
따라서 모든 프로그래밍은 추상화와 분해 관점으로 설명할 수 있다. <br>
크게 **프로시저 추상화**, **데이터 추상화** 2가지로 분리할 수 있다. <br>

## 프로시저 추상화

> 기능을 기준으로 분해하는 관점으로 접근하여 **기능 분해** 라는 용어를 사용하고, 기능 분해의 관점에서 추상화의 단위는 프로시저이며 시스템은 프로시저를 단위로 분해한다.

전통적인 기능분해 방식은 하향식 접근법(Top-Down Approach)을 사용한다. <br>
따라서 가장 상위의 기능을 먼저 정의하고 점차 하위 기능을 정의해 나간다. 하지만 이 방식은 복잡한 문제를 해결하기 위해 적합하지 않다. <br>
지금부터 그 이유를 알아보자. 

### 하나의 메인 함수로 구성되어 있지 않다.
대부분의 프로그램은 하나의 메인 기능으로 구성되어있지 않는다. <br>
만약 하나의 메인기능으로 구현되어 있다 하더라도 점점 기능이 추가되다 보면 원래 메인 기능으로 생각했던 개념과 동일한 레벨의 기능이 추가되거나 하위레벨로 다운될 수 있다. <br>
따라서 하향식 접근법을 사용하면 변경에 취약할 수 밖에 없다.

### 비즈니스 로직만 고민할 수 없다.
보통 사용자 입력이 필요한(user interface)부분과 비즈니스 로직을 같이 생각해야 하는 경우가 많다. <br>
따라서 이 두 부분을 같이 고민해서 설계를 해야 함으로 **관심사 분리** 를 할 수 없다. 

### 고정된 실행 순서
하향식 접근법으로 설계를 하다보면 중앙집중 제어 스타일의 형태를 띄게 된다. <br>
따라서 중앙집중 제어 스타일의 문제점을 고스란히 가질 수 있다. <br>
1. 모든 기능을 하나의 메인 함수에서 제어하기 때문에 메인 함수가 너무 커진다.
2. 상위 함수가 강요하는 문맥 안에서만 의미를 가지기 때문에 재사용이 어렵다.
3. 상위 함수와 하위 함수간의 결합도가 높다.

> 결론 : 하향식 접근방법은 복잡한 소프트웨어를 설계하는데 좋은 방법은 아니다.

## 데이터 추상화

> 데이터 추상화는 크게 **데이터를 중심으로 타입을 추상화** 하는 **추상 데이터 타입**이 있으며, **데이터를 중심으로 프로시저를 추상화**하는 **객체지향 방식**이 있다. 

### 모듈
일단 추상 데이터 타입을 알기 위해서 모듈에 대한 개념을 정리해야 한다. <br>

> 모듈이란? <br>
> 연관있는 부분을 하나의 단위로 묶어서 퍼블릭 인터페이스로 제공하는 것을 말한다.

따라서 시스템을 모듈화하게 되면 시스템 복잡성이 낮아지고, 변경에 대해 대응이 빨라질 수 있다. <br>
즉 변경되더라도 모듈내에서만 변경을 하면 되고 관심사를 분리하기 쉽다. <br>
하지만 모듈의 단점이 있는데, 모듈은 추상화 관점으로 바라보지 않고 개별적이고 독립적인 단위로 다루지 않는다. <br>
그렇기 때문에 모듈은 시스템의 복잡성을 낮추는데는 도움이 되지만, 시스템을 추상화하고 분해하는데는 도움이 되지 않는다. <br>

### 추상 데이터 타입
데이터를 기준으로 타입을 추상화하는 개념

**[접근방법]**
1. 내부에 캡슐화할 데이터를 결정한다.
2. 추상 데이터 타입에 접근 가능한 오퍼레이션 정의

위 방식으로 접근을 하다보면 모듈방식보다 조금 더 추상화되고 작은 단위로 개발할 수 있다. <br>

좀더 자세한 예를들어서 설명하자면, <br>
급여정산을 하기위해서는 정액제, 정률제 2가지 타입인 계산방식을 정보를 알아야 한다. <br>
따라서 급여계산기에게 정산을 요청하면 해당 메서드 내에서는 타입을 체크하여 타입에 맞는 계산을 진행한다. <br>
하지만 해당 메서드를 사용하는 사용자는 내부 구현은 잘 모르며(**캡슐화**), 계산만 요청하면 알맞는 정산금액을 반환하는 것만 알 것이다. <br>

이처럼 타입을 급여계산기 라는 타입으로 추상화하는 방식을 타입 추상화라 한다.

추상 데이터 타입에는 다형성이란 개념이 없기 때문에 이를 지원하는 **클래스**로 변경하게되면 좀 더 유연한 설계를 가질 수 있다. <br>

### 데이터 추상화 결론
데이터를 중심으로 하는 추상 데이터 타입과 데이터를 중심으로 프로시저를 추상화 하는 객체지향 방식을 구분하는 방법은 아래와 같다.

> 객체지향 방식 : 설계 변경 사항이 타입추가에 대한 부분이다.

다형성을 이용하여 타입이 추가된다면 손 쉽게 탈부착이 가능하다. <br>

> 추상 데이터 타입 : 오퍼레이션을 추가해야 한다.

기능을 추가해야 하는 부분에 객체지향 방식을 사용한다면 모든 하위 클래스에 오퍼레이션을 추가해야 하기 때문에 이 부분은 추상 데이터 타입으로 처리해야한다.
