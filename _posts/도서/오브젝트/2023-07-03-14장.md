---
title: 오브젝트 - 14장 일관성 있는 협력
date: 2023-07-03
categories: [도서, 오브젝트]
tags: [OOP, 오브젝트]
math: true
mermaid: true
---

## 14장 핵심 포인트
설계 시 객체들의 협력방식을 일관성 있게 만들기 위해서는 어떻게 해야할지 방안들을 알아본다. <br> 
가장 중요한 것은 유사한 기능을 서로 다른 방식으로 구현하지 않아야 한다는 것이다. 
<br>

## 설계에 일관성 부여방법

앞서 배운 개념들을 통해서 변경이 일어날 부분에 추상화를 하고, 추상화된 메서드를 통해서 타입에 맞는 구현을 하는 법을 알아보았다. <br> 
하지만 이렇게만 하면 객체지향 패러다임의 장점인 설계를 재사용할 수 있나? 정답은 아니다. <br>
이유는 구현의 일관성이 없어서 추상화된 메서드를 구현한 하나의 타입의 구현체를 이해했다고 다른 타입의 구현체들을 이해하는데 도움이 되지 않는다. <br>
즉 이해하기 힘들고 일관성도 없는 코드들로 이루어져 있기 때문에 재사용하기 힘들다. <br>

따라서 아래와 같은 방법들을 통해서 설계에 일관성을 부여해야 한다. <br>

1. **변하는 개념을 변하지 않는 개념으로 분리**해야 한다.
2. **변하는 개념을 캡슐화** 해야한다.

> 이러한 방법들을 안다고 해서 설계에 일관성을 부여하는게 쉽지 않다. 따라서 다양한 설계경험과 디자인 패턴을 학습하고 적용해보는 시간을 많이 가져야 한다.

캡슐화는 단순히 **데이터 은닉**만을 이야기하는 것이 아니다. <br>
소프트웨어 안에서 변할 수 있는 모든 개념을 말한다. <br>

따라서 변하는 부분을 분리해서 타입계층을 만들고, 변하지 않는 부분의 일부로 타입 계층을 합성한다. <br>
변하지 않는 부분의 일부로 타입계층을 합성한다라는 말에 대해 예를들면, 결합도를 느슨하게 유지하기 위해서 생성자를 통해 의존성을 주입해 합성관계로 연결하는 것을 하나의 예로 볼 수 있다. <br>
 
<br>

## 일관성 있는 협력 구현 

가장 먼저 해야할 일은 변경을 캡슐화해서 파급효과를 줄여야 한다. <br>
그럴려면 변하지 않는 부분으로부터 변하는 부분을 분리해야 한다. <br>
따라서 **변하는 것과 변하지 않는 것을 분리하고 변하는 것을 캡슐화한 코드는 오로지 변하지 않는 것과 추상화에 대한 의존성만으로도 전체적인 협력을 구현할 수 있다.** <br>

또한 협력을 일관성 있게 만들면 하나의 협력을 이해하는 것만으로도 다른 협력을 이해하는데 도움이 된다. <br>
이를 개념적 무결성(Conceptual Integrity)를 유지하는데 가장 효과적인 방법이다. <br>

> 단 개발을 하다보면 기존의 협력으로는 해결할 수 없다면 과감히 리펙토링을 통해서 변경을 수용할 수 있는 적절한 역할과 책임을 부여하여 협력의 일관성을 유지해야 한다. <br>



